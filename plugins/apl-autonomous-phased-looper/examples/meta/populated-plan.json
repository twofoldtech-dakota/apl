{
  "version": "1.0.0",
  "project_id": "proj_patient_portal_2024",
  "project_name": "Patient Portal",
  "original_goal": "Build a secure patient portal for a healthcare clinic that allows patients to view appointments, access medical records, message providers, and manage prescriptions",

  "status": "planned",
  "created_at": "2024-01-15T09:00:00Z",
  "last_updated": "2024-01-15T11:30:00Z",

  "detected_domains": ["healthcare", "saas"],

  "epic_order": [
    "epic_001_auth",
    "epic_002_appointments",
    "epic_003_records"
  ],

  "epics_summary": [
    {
      "id": "epic_001_auth",
      "title": "User Authentication & Authorization",
      "priority": 1,
      "features": 3,
      "stories": 9,
      "status": "pending",
      "description": "Secure patient and provider authentication with role-based access control"
    },
    {
      "id": "epic_002_appointments",
      "title": "Appointment Management",
      "priority": 2,
      "features": 3,
      "stories": 8,
      "status": "pending",
      "description": "View, schedule, and manage appointments with providers"
    },
    {
      "id": "epic_003_records",
      "title": "Medical Records Access",
      "priority": 3,
      "features": 2,
      "stories": 6,
      "status": "pending",
      "description": "HIPAA-compliant access to patient medical records"
    }
  ],

  "architectural_decisions": [
    {
      "id": "ad_001",
      "decision": "Use bcrypt for password hashing with cost factor 12",
      "rationale": "HIPAA requires strong password protection; bcrypt is proven secure",
      "alternatives_considered": ["argon2", "scrypt"],
      "made_at": "2024-01-15T10:00:00Z"
    },
    {
      "id": "ad_002",
      "decision": "Implement audit logging for all PHI access",
      "rationale": "HIPAA requires maintaining access logs for 6 years",
      "implementation": "Middleware that logs user, action, resource, timestamp",
      "made_at": "2024-01-15T10:15:00Z"
    },
    {
      "id": "ad_003",
      "decision": "Use JWT with 15-minute expiry for access tokens",
      "rationale": "Short-lived tokens minimize risk if compromised",
      "implementation": "Access token (15m) + Refresh token (24h, rotating)",
      "made_at": "2024-01-15T10:30:00Z"
    },
    {
      "id": "ad_004",
      "decision": "Encrypt PHI at rest using AES-256",
      "rationale": "HIPAA requires encryption of PHI",
      "implementation": "Database-level encryption for PHI fields",
      "made_at": "2024-01-15T10:45:00Z"
    }
  ],

  "cross_cutting_concerns": [
    {
      "id": "cc_001",
      "name": "Audit Logging",
      "description": "All access to PHI must be logged with user, action, timestamp",
      "affects_epics": ["epic_001_auth", "epic_003_records"]
    },
    {
      "id": "cc_002",
      "name": "Role-Based Access",
      "description": "Patients see own data only; providers see assigned patients",
      "affects_epics": ["epic_001_auth", "epic_002_appointments", "epic_003_records"]
    },
    {
      "id": "cc_003",
      "name": "Session Timeout",
      "description": "Auto-logout after 15 minutes of inactivity per HIPAA",
      "affects_epics": ["epic_001_auth"]
    }
  ],

  "metrics": {
    "total_epics": 3,
    "total_features": 8,
    "total_stories": 23,
    "estimated_sessions": 12,
    "questions_answered": 15,
    "questions_pending": 0
  },

  "compliance_requirements": {
    "hipaa": {
      "covered_entity_type": "Healthcare Provider",
      "phi_types": ["appointments", "diagnoses", "prescriptions", "messages"],
      "audit_retention_years": 6,
      "encryption_required": true,
      "baa_required": true
    }
  },

  "next_action": "Run /meta loop to start Epic 1: User Authentication & Authorization"
}
